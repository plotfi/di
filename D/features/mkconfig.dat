#
# $Id$
# $Source$
# Copyright 2010 Brad Lanam, Walnut Creek, California USA
#
#
option-file ../dioptions.dat

loadunit d-main

output   config.d

standard

clib    bindtextdomain -lintl, -lintl -liconv
clib    endmntent
clib    GetDiskFreeSpace
clib    GetDiskFreeSpaceEx
clib    GetDriveType
clib    GetLogicalDriveStrings
clib    GetVolumeInformation
clib    getmntent -lgen
clib    gettext -lintl, -lintl -liconv
clib    getvfsstat
clib    setmntent
clib    statvfs

chdr    stdio.h
chdr    stdlib.h
chdr    libintl.h
chdr    mntent.h
chdr    windows.h

csys    statvfs.h
csys    types.h

# Linux: _PATH_MOUNTED mntent.h; MNTTYPE_IGNORE mntent.h
cdefstr     _PATH_MOUNTED mntent.h
cdefstr     _PATH_MNTTAB mntent.h
cdefstr     MOUNTED mntent.h
cdefstr     MNTTAB mntent.h
cdefstr     MNTTYPE_IGNORE mntent.h

# linux
ctype   __fsblkcnt_t sys/statvfs.h
ctype   __fsfilcnt_t sys/statvfs.h
# linux, 64-bit interface
ctype   __u_quad_t sys/statvfs.h
ctype   __fsblkcnt64_t sys/statvfs.h
ctype   __fsfilcnt64_t sys/statvfs.h
# linux
cstruct statvfs sys/statvfs.h

# linux
cstruct mntent mntent.h

cdcl    bindtextdomain libintl.h
cdcl    endmntent mntent.h
cdcl    GetDiskFreeSpace windows.h
cdcl    GetDiskFreeSpaceEx windows.h
cdcl    GetDriveType windows.h
cdcl    GetLogicalDriveStrings windows.h
cdcl    GetVolumeInformation windows.h
cdcl    getmntent mntent.h
cdcl    gettext libintl.h
#cdcl    getvfsstat
cdcl    setmntent mntent.h
cdcl    statvfs sys/statvfs.h

member  C_ST_statvfs f_basetype

# see dioptions.dat to change these
option  DI_DEFAULT_FORMAT smbuvpT
option  DI_DEFAULT_DISP_SIZE H

include

import core.stdc.stdio;

endinclude
