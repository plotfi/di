#
# $Id$
# $Source$
# Copyright 2010 Brad Lanam, Walnut Creek, California USA
#
#
option-file ../dioptions.dat

loadunit d-main

output   config.d

standard

chdr    libintl.h
chdr    mntent.h
chdr    windows.h

csys    types.h
csys    statvfs.h

# di
chdr    version.h

clib    bindtextdomain -lintl, -lintl -liconv
clib    endmntent
clib    GetDiskFreeSpace
clib    GetDiskFreeSpaceEx
clib    GetDriveType
clib    GetLogicalDriveStrings
clib    GetVolumeInformation
clib    getmntent -lgen
clib    gettext -lintl, -lintl -liconv
clib    getvfsstat
clib    setmntent
clib    statvfs

# Linux: _PATH_MOUNTED mntent.h; MNTTYPE_IGNORE mntent.h
cdefstr _PATH_MOUNTED
cdefstr _PATH_MNTTAB
cdefstr MOUNTED
cdefstr MNTTAB
cdefstr MNTTYPE_IGNORE

# di
cdefstr DI_VERSION

# linux
ctype   __fsblkcnt_t
ctype   __fsfilcnt_t
# linux, 64-bit interface
ctype   __u_quad_t
ctype   __fsblkcnt64_t
ctype   __fsfilcnt64_t
# linux
cstruct statvfs

# linux
cstruct mntent

cdcl    bindtextdomain
cdcl    endmntent
cdcl    GetDiskFreeSpace
cdcl    GetDiskFreeSpaceEx
cdcl    GetDriveType
cdcl    GetLogicalDriveStrings
cdcl    GetVolumeInformation
cdcl    getmntent
cdcl    gettext
#cdcl    getvfsstat
cdcl    args setmntent
cdcl    statvfs
cmember  statvfs f_basetype

# see dioptions.dat to change these
option  DI_DEFAULT_FORMAT smbuvpT
option  DI_DEFAULT_DISP_SIZE H

include

import core.stdc.stdio;

endinclude
