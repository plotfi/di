option-file ../dioptions.dat

loadunit env-main
loadunit env-systype
loadunit env-cc
loadunit env-msgfmt
loadunit env-extension

output  di.env

system type
system rev
system arch
cc
using_gcc
using_clang
cflags
addcflag -Wextra
addcflag -Wno-unused-but-set-variable
addcflag -Wno-unused-parameter
addcflag -Wno-float-equal
addcflag -Wno-shift-sign-overflow
# gcc hardening
# reference: wiki.debian.org/Hardening
addcflag -Wformat
addcflag -Wformat-security
addcflag -Werror=format-security
addcflag -fstack-protector-strong
addcflag -fstack-protector-all
addcflag -D_FORTIFY_SOURCE=2
addcflag -fPIE
addcflag -pie
addcflag -Wl,-z,relro
addcflag -Wl,-z,now

ldflags
libs
extension obj
extension exe
cmd_msgfmt
